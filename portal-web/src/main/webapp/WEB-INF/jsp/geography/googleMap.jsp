<%@ include file="/common/taglibs.jsp"%><div id="${requestScope.mapDivName}"></div><tiles:insert page="../geography/points.jsp"/><tiles:insert page="../geography/googleMapKey.jsp"/><script type="text/javascript">    //<![CDATA[	// Enable the visual refresh	google.maps.visualRefresh = true;		var map = null;	var centre = null;	var zoom = null;	if (points.length==1){		//5 is the zoom level		centre = new GLatLng(points[0][0], points[0][1]);		zoom = 9;	} else {		//full world view		centre = new GLatLng(0,0);		zoom = 1;	}		function addPoints(){		for (var i=0; i<points.length;i++){			if(points[i] !=null){				var point = new GLatLng(points[i][0], points[i][1]);				 map.addOverlay(createMarker(point, points[i][2]));			}		}		}    // Creates a marker at the given point with the given number label	function createMarker(point, number) {	  var marker = new GMarker(point);	  GEvent.addListener(marker, "click", function() {	  	map.zoomIn();	  });	  GEvent.addListener(marker, "onhover", function() {	  	alert("test");	  });			  	  return marker;	}		function ShowMeTheMap(){		loadMap("${requestScope.mapDivName}", centre, zoom);		addPoints();	}//]]></script><script type="text/javascript">//<![CDATA[	window.onload = ShowMeTheMap;//]]>	</script>